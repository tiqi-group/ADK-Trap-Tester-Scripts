signal_to_fpc = {
    1: 2,
    2: 3,
    3: 4,
    4: 5,
    5: 6,
    6: 7,
    7: 8,
    8: 9,
    9: 10,
    10: 11,
    11: 12,
    12: 13,
    13: 14,
    14: 15,
    15: 16,
    16: 17,
    17: 18,
    18: 19,
    19: 20,
    20: 21,
    21: 22,
    22: 23,
    23: 24,
    24: 25,
    25: 27,
    26: 22,
    27: 29,
    28: 30,
    29: 31,
    30: 32,
    31: 33,
    32: 34,
    33: 35,
    34: 36,
    35: 37,
    36: 38,
    37: 39,
    38: 40,
    39: 41,
    40: 42,
    41: 43,
    42: 44,
    43: 45,
    44: 46,
    45: 47,
    46: 48,
    47: 49,
    48: 50,
    49: 26,
}

signal_to_dsub = {
    46: 1,
    40: 2,
    30: 3,
    28: 4,
    43: 5,
    37: 6,
    31: 7,
    25: 8,
    24: 10,
    18: 11,
    12: 12,
    6: 13,
    21: 14,
    19: 15,
    9: 16,
    3: 17,
    48: 18,
    38: 19,
    36: 20,
    26: 21,
    45: 22,
    39: 23,
    33: 24,
    27: 25,
    22: 26,
    16: 27,
    10: 28,
    4: 29,
    23: 30,
    13: 31,
    11: 32,
    1: 33,
    42: 34,
    44: 35,
    34: 36,
    32: 37,
    47: 38,
    41: 39,
    35: 40,
    29: 41,
    20: 43,
    14: 44,
    8: 45,
    2: 46,
    17: 47,
    15: 48,
    5: 49,
    7: 50,
    50: 42,
    51: 9,
}

dsub_to_signal = {
    1: 46,
    2: 40,
    3: 30,
    4: 28,
    5: 43,
    6: 37,
    7: 31,
    8: 25,
    9: 51,
    10: 24,
    11: 18,
    12: 12,
    13: 6,
    14: 21,
    15: 19,
    16: 9,
    17: 3,
    18: 48,
    19: 38,
    20: 36,
    21: 26,
    22: 45,
    23: 39,
    24: 33,
    25: 27,
    26: 22,
    27: 16,
    28: 10,
    29: 4,
    30: 23,
    31: 13,
    32: 11,
    33: 1,
    34: 42,
    35: 44,
    36: 34,
    37: 32,
    38: 47,
    39: 41,
    40: 35,
    41: 29,
    42: 50,
    43: 20,
    44: 14,
    45: 8,
    46: 2,
    47: 17,
    48: 15,
    49: 5,
    50: 7,
}

signal_to_dac_mux = {
    23: 5,
    21: 6,
    19: 7,
    17: 8,
    15: 9,
    13: 10,
    11: 11,
    9: 12,
    7: 13,
    5: 14,
    3: 15,
    1: 16,
    10: 21,
    8: 22,
    6: 23,
    4: 24,
    2: 25,
    12: 26,
    14: 27,
    16: 28,
    18: 29,
    20: 30,
    22: 31,
    24: 32,
    39: 37,
    41: 38,
    43: 39,
    45: 40,
    47: 41,
    37: 42,
    35: 43,
    33: 44,
    31: 45,
    29: 46,
    27: 47,
    25: 48,
    26: 53,
    28: 54,
    30: 55,
    32: 56,
    34: 57,
    36: 58,
    38: 59,
    40: 60,
    42: 61,
    44: 62,
    46: 63,
    48: 64,
    49: 36,
    50: 20,
}

signal_to_adc_mux = {
    50: 4,
    10: 5,
    8: 6,
    6: 7,
    4: 8,
    2: 9,
    12: 10,
    14: 11,
    16: 12,
    18: 13,
    20: 14,
    22: 15,
    24: 16,
    23: 21,
    21: 22,
    19: 23,
    17: 24,
    15: 25,
    13: 26,
    11: 27,
    9: 28,
    7: 29,
    5: 30,
    3: 31,
    1: 32,
    26: 37,
    28: 38,
    30: 39,
    32: 40,
    34: 41,
    36: 42,
    38: 43,
    40: 44,
    42: 45,
    44: 46,
    46: 47,
    48: 48,
    39: 53,
    49: 52,
    41: 54,
    43: 55,
    45: 56,
    47: 57,
    37: 58,
    35: 59,
    33: 60,
    31: 61,
    29: 62,
    27: 63,
    25: 64,
}


def dsub_to_adc_address(dsub_pin: int = 0) -> int:
    fpc_pin = dsub_to_signal[dsub_pin]
    mux = signal_to_adc_mux[fpc_pin] - 1
    return mux & 0b011111


def dsub_to_dac_address(dsub_pin: int = 0) -> int:
    fpc_pin = dsub_to_signal[dsub_pin]
    mux_address = signal_to_dac_mux[fpc_pin] - 1
    return mux_address & 0b011111


def dsub_to_dac_en_bits(dsub_pin: int = 0) -> int:
    fpc_pin = dsub_to_signal[dsub_pin]
    mux = (signal_to_dac_mux[fpc_pin] - 1) & 0b100000
    if mux == 0:
        return 0b10
    return 0b01


def dsub_to_adc_en_bit(dsub_pin: int = 0) -> int:
    fpc_pin = dsub_to_signal[dsub_pin]
    mux = (signal_to_adc_mux[fpc_pin] - 1) & 0b100000
    if mux == 0:
        return 0b0
    return 0b1


def dsub_to_dac_cs_bits(dsub_pin: int = 0) -> int:
    fpc_pin = dsub_to_signal[dsub_pin]
    mux = (signal_to_dac_mux[fpc_pin] - 1) & 0b100000
    if mux == 0:
        return 0b10
    return 0b01


def dsub_to_adc_cs_bits(dsub_pin: int = 0) -> int:
    fpc_pin = dsub_to_signal[dsub_pin]
    mux = (signal_to_adc_mux[fpc_pin] - 1) & 0b100000
    if mux == 0:
        return 0b10
    return 0b01
